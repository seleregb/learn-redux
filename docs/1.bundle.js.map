{"version":3,"sources":["webpack:///./client/actions/actionCreators.js","webpack:///./client/components/Photo.js"],"names":["incrementLikes","index","dispatch","type","INCREMENT_LIKES","addComments","postId","author","comment","ADD_COMMENT","removeComments","REMOVE_COMMENT","fetchPosts","ALL_POSTS","payload","location","fetchSinglePost","SINGLE_POST","Photo","connect","store","comments","commentsReducer","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","bind","_assertThisInitialized","viewPostDetails","event","preventDefault","post","history","push","concat","code","_this$props","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","className","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","to","src","display_src","alt","caption","react_transition_group__WEBPACK_IMPORTED_MODULE_2__","classNames","timeout","unmountOnExit","key","likes","onClick","length","React","Component","__webpack_exports__"],"mappings":"gPAUO,QAAMA,EAAiB,SAACC,GAC7B,OAAO,SAACC,GAAD,OAAcA,EAAS,CAAEC,KAAMC,IAAiBH,YAa5CI,EAAc,SAACC,EAAQC,EAAQC,GAC1C,OAAO,SAACN,GAAD,OAAcA,EAAS,CAC5BC,KAAMM,IAAaH,SAAQC,SAAQC,cAa1BE,EAAiB,SAACJ,EAAQL,GACrC,OAAO,SAACC,GAAD,OAAcA,EAAS,CAC5BC,KAAMQ,IAAgBV,QAAOK,aAIpBM,EAAa,WACxB,OAAO,SAACV,GAAD,OAAcA,EAAS,CAC5BC,KAAMU,IACNC,QAASC,aAIAC,EAAkB,SAACV,EAAQL,GACtC,OAAO,SAACC,GAAD,OAAcA,EAAS,CAC5BC,KAAMc,IAAaX,SAAQL,QAC3Ba,QAASC,8DA7CAf,iIAcAK,8HAeAK,iIAMAE,6HAOAI,o2EC1CPE,YAJLC,yDAAQ,SAACC,GAAD,MAAY,CACnBC,SAAUD,EAAME,0DAKhB,SAAAJ,MAAYK,GAAO,IAAAC,EAAA,OAAAC,gBAAAC,KAAAR,QACjBM,EAAAG,2BAAAD,KAAAE,gBAAAV,OAAAW,KAAAH,KAAMH,KACDvB,eAAiBwB,EAAKxB,eAAe8B,KAApBC,8CAAAP,KACtBA,EAAKQ,gBAAkBR,EAAKQ,gBAAgBF,KAArBC,8CAAAP,KAHNA,sGAMF,IACPvB,EAAUyB,KAAKH,MAAftB,MACRyB,KAAKH,MAAMrB,SAASF,+DAAeC,4CAGrBgC,GACdA,EAAMC,iBADe,IAEbC,EAAST,KAAKH,MAAdY,KACRT,KAAKH,MAAMa,QAAQC,KAAnB,SAAAC,OAAiCH,EAAKI,wCAG/B,IAAAC,EACoBd,KAAKH,MAAxBY,EADDK,EACCL,KAAMd,EADPmB,EACOnB,SAEd,OACEoB,2CAAAC,EAAAC,cAAA,UAAQC,UAAU,eAChBH,2CAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,2CAAAC,EAAAC,cAACE,8CAAA,EAAD,CAAMC,GAAE,SAAAR,OAAWH,EAAKI,OACtBE,2CAAAC,EAAAC,cAAA,OAAKI,IAAKZ,EAAKa,YAAaC,IAAKd,EAAKe,QAASN,UAAU,gBAK3DH,2CAAAC,EAAAC,cAACQ,oDAAA,cAAD,CAAeC,WAAW,OACxBC,QAAS,IAAKC,eAAa,GAC3Bb,2CAAAC,EAAAC,cAAA,QAAMY,IAAKpB,EAAKqB,MAAOZ,UAAU,eAAeT,EAAKqB,SAKzDf,2CAAAC,EAAAC,cAAA,kBACEF,2CAAAC,EAAAC,cAAA,SAAIR,EAAKe,SACTT,2CAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,2CAAAC,EAAAC,cAAA,UAAQC,UAAU,QAAQa,QAAS/B,KAAK1B,gBAAxC,KACYmC,EAAKqB,OAKjBf,2CAAAC,EAAAC,cAACE,8CAAA,EAAD,CAAMD,UAAU,SAASE,GAAE,SAAAR,OAAWH,EAAKI,OACzCE,2CAAAC,EAAAC,cAAA,QAAMC,UAAU,iBACb,IAAIH,2CAAAC,EAAAC,cAAA,QAAMC,UAAU,kBACpBvB,EAASc,EAAKI,MAAQlB,EAASc,EAAKI,MAAMmB,OAAS,2IAlDhDC,6CAAMC,8BA6DX1C,iCAAA2C,oBAAA,uJA7DT3C","file":"1.bundle.js","sourcesContent":["import { INCREMENT_LIKES, ADD_COMMENT, REMOVE_COMMENT, ALL_POSTS, SINGLE_POST } from './actionTypes';\r\n\r\n// Increment\r\n// export function increment(index) {\r\n//   return {\r\n//     type: ActionTypes.INCREMENT_LIKES,\r\n//     index\r\n//   }\r\n// }\r\n\r\nexport const incrementLikes = (index) => {\r\n  return (dispatch) => dispatch({ type: INCREMENT_LIKES, index });\r\n}\r\n\r\n// // Add Comment\r\n// export function addComment(postId, author, comment) {\r\n//   return {\r\n//     type: ActionTypes.ADD_COMMENT,\r\n//     postId,\r\n//     author,\r\n//     comment\r\n//   }\r\n// }\r\n\r\nexport const addComments = (postId, author, comment) => {\r\n  return (dispatch) => dispatch({\r\n    type: ADD_COMMENT, postId, author, comment\r\n  });\r\n}\r\n\r\n// // Remove Comment\r\n// export function removeComment(postId, index) {\r\n//   return {\r\n//     type: ActionTypes.REMOVE_COMMENT,\r\n//     index,\r\n//     postId\r\n//   }\r\n// }\r\n\r\nexport const removeComments = (postId, index) => {\r\n  return (dispatch) => dispatch({\r\n    type: REMOVE_COMMENT, index, postId\r\n  });\r\n}\r\n\r\nexport const fetchPosts = () => {\r\n  return (dispatch) => dispatch({\r\n    type: ALL_POSTS,\r\n    payload: location\r\n  });\r\n}\r\n\r\nexport const fetchSinglePost = (postId, index) => {\r\n  return (dispatch) => dispatch({\r\n    type: SINGLE_POST, postId, index,\r\n    payload: location\r\n  })\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { connect } from \"react-redux\";\r\nimport { incrementLikes } from '../actions/actionCreators';\r\n\r\n@connect((store) => ({\r\n  comments: store.commentsReducer\r\n}))\r\n\r\nclass Photo extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.incrementLikes = this.incrementLikes.bind(this);\r\n    this.viewPostDetails = this.viewPostDetails.bind(this);\r\n  }\r\n\r\n  incrementLikes() {\r\n    const { index } = this.props;\r\n    this.props.dispatch(incrementLikes(index));\r\n  }\r\n\r\n  viewPostDetails(event) {\r\n    event.preventDefault();\r\n    const { post } = this.props;\r\n    this.props.history.push(`/view/${post.code}`)\r\n  }\r\n\r\n  render() {\r\n    const { post, comments } = this.props;\r\n\r\n    return (\r\n      <figure className=\"grid-figure\">\r\n        <div className=\"grid-photo-wrap\">\r\n          <Link to={`/view/${post.code}`}>\r\n            <img src={post.display_src} alt={post.caption} className=\"grid-photo\"></img>\r\n          </Link>\r\n          {/* <img src={post.display_src} alt={post.caption} className=\"grid-photo\" onClick={this.viewPostDetails}></img> */}\r\n\r\n\r\n          <CSSTransition classNames=\"like\"\r\n            timeout={500} unmountOnExit>\r\n            <span key={post.likes} className=\"likes-heart\">{post.likes}</span>\r\n\r\n          </CSSTransition>\r\n        </div>\r\n\r\n        <figcaption>\r\n          <p>{post.caption}</p>\r\n          <div className=\"control-buttons\">\r\n            <button className=\"likes\" onClick={this.incrementLikes}>\r\n              &hearts; {post.likes}\r\n            </button>\r\n            {/* <a className=\"button\" onClick={this.viewPostDetails}>\r\n              \r\n            </a> */}\r\n            <Link className=\"button\" to={`/view/${post.code}`}>\r\n              <span className=\"comment-count\">\r\n                {' '}<span className=\"speech-bubble\"></span>\r\n                {comments[post.code] ? comments[post.code].length : 0}\r\n              </span>\r\n            </Link>\r\n          </div>\r\n        </figcaption>\r\n\r\n      </figure>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Photo;"],"sourceRoot":""}