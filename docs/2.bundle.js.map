{"version":3,"sources":["webpack:///./client/components/Single.js","webpack:///./client/actions/actionCreators.js","webpack:///./client/components/Photo.js","webpack:///./client/components/Comments.js"],"names":["Single","connect","store","posts","postsReducer","comments","commentsReducer","withRouter","postId","this","props","match","params","index","findIndex","post","code","postComments","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","className","_Photo__WEBPACK_IMPORTED_MODULE_2__","_extends","_Comments__WEBPACK_IMPORTED_MODULE_3__","React","Component","__webpack_exports__","incrementLikes","dispatch","type","INCREMENT_LIKES","addComments","author","comment","ADD_COMMENT","removeComments","REMOVE_COMMENT","fetchPosts","ALL_POSTS","payload","location","fetchSinglePost","SINGLE_POST","Photo","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","bind","_assertThisInitialized","viewPostDetails","event","preventDefault","history","push","concat","_this$props","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","to","src","display_src","alt","caption","react_transition_group__WEBPACK_IMPORTED_MODULE_2__","classNames","timeout","unmountOnExit","key","likes","onClick","length","Comments","deleteComment","handleSubmit","renderComment","user","text","e","_this$refs","refs","commentForm","value","reset","map","ref","onSubmit","placeholder","hidden"],"mappings":"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","file":"2.bundle.js","sourcesContent":["import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport Photo from './Photo';\r\nimport Comments from './Comments';\r\nimport { connect } from 'react-redux';\r\n\r\n@withRouter\r\n@connect((store) => ({\r\n  posts: store.postsReducer,\r\n  comments: store.commentsReducer\r\n}))\r\n\r\nclass Single extends React.Component {\r\n  render() {\r\n\r\n    const { postId } = this.props.match.params;\r\n    const index = this.props.posts.findIndex((post) => post.code === postId);\r\n    const post = this.props.posts[index];\r\n    const postComments = this.props.comments[postId] || [];\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"single-photo\">\r\n          <Photo index={index} post={post} {...this.props} />\r\n          <Comments postComments={postComments} {... this.props} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Single;","import { INCREMENT_LIKES, ADD_COMMENT, REMOVE_COMMENT, ALL_POSTS, SINGLE_POST } from './actionTypes';\r\n\r\n// Increment\r\n// export function increment(index) {\r\n//   return {\r\n//     type: ActionTypes.INCREMENT_LIKES,\r\n//     index\r\n//   }\r\n// }\r\n\r\nexport const incrementLikes = (index) => {\r\n  return (dispatch) => dispatch({ type: INCREMENT_LIKES, index });\r\n}\r\n\r\n// // Add Comment\r\n// export function addComment(postId, author, comment) {\r\n//   return {\r\n//     type: ActionTypes.ADD_COMMENT,\r\n//     postId,\r\n//     author,\r\n//     comment\r\n//   }\r\n// }\r\n\r\nexport const addComments = (postId, author, comment) => {\r\n  return (dispatch) => dispatch({\r\n    type: ADD_COMMENT, postId, author, comment\r\n  });\r\n}\r\n\r\n// // Remove Comment\r\n// export function removeComment(postId, index) {\r\n//   return {\r\n//     type: ActionTypes.REMOVE_COMMENT,\r\n//     index,\r\n//     postId\r\n//   }\r\n// }\r\n\r\nexport const removeComments = (postId, index) => {\r\n  return (dispatch) => dispatch({\r\n    type: REMOVE_COMMENT, index, postId\r\n  });\r\n}\r\n\r\nexport const fetchPosts = () => {\r\n  return (dispatch) => dispatch({\r\n    type: ALL_POSTS,\r\n    payload: location\r\n  });\r\n}\r\n\r\nexport const fetchSinglePost = (postId, index) => {\r\n  return (dispatch) => dispatch({\r\n    type: SINGLE_POST, postId, index,\r\n    payload: location\r\n  })\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { connect } from \"react-redux\";\r\nimport { incrementLikes } from '../actions/actionCreators';\r\n\r\n@connect((store) => ({\r\n  comments: store.commentsReducer\r\n}))\r\n\r\nclass Photo extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.incrementLikes = this.incrementLikes.bind(this);\r\n    this.viewPostDetails = this.viewPostDetails.bind(this);\r\n  }\r\n\r\n  incrementLikes() {\r\n    const { index } = this.props;\r\n    this.props.dispatch(incrementLikes(index));\r\n  }\r\n\r\n  viewPostDetails(event) {\r\n    event.preventDefault();\r\n    const { post } = this.props;\r\n    this.props.history.push(`/view/${post.code}`)\r\n  }\r\n\r\n  render() {\r\n    const { post, comments } = this.props;\r\n\r\n    return (\r\n      <figure className=\"grid-figure\">\r\n        <div className=\"grid-photo-wrap\">\r\n          <Link to={`/view/${post.code}`}>\r\n            <img src={post.display_src} alt={post.caption} className=\"grid-photo\"></img>\r\n          </Link>\r\n          {/* <img src={post.display_src} alt={post.caption} className=\"grid-photo\" onClick={this.viewPostDetails}></img> */}\r\n\r\n\r\n          <CSSTransition classNames=\"like\"\r\n            timeout={500} unmountOnExit>\r\n            <span key={post.likes} className=\"likes-heart\">{post.likes}</span>\r\n\r\n          </CSSTransition>\r\n        </div>\r\n\r\n        <figcaption>\r\n          <p>{post.caption}</p>\r\n          <div className=\"control-buttons\">\r\n            <button className=\"likes\" onClick={this.incrementLikes}>\r\n              &hearts; {post.likes}\r\n            </button>\r\n            {/* <a className=\"button\" onClick={this.viewPostDetails}>\r\n              \r\n            </a> */}\r\n            <Link className=\"button\" to={`/view/${post.code}`}>\r\n              <span className=\"comment-count\">\r\n                {' '}<span className=\"speech-bubble\"></span>\r\n                {comments[post.code] ? comments[post.code].length : 0}\r\n              </span>\r\n            </Link>\r\n          </div>\r\n        </figcaption>\r\n\r\n      </figure>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Photo;","import React from 'react';\r\nimport { removeComments, addComments } from '../actions/actionCreators';\r\n\r\nclass Comments extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.deleteComment = this.deleteComment.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.renderComment = this.renderComment.bind(this);\r\n  }\r\n\r\n  renderComment(comment, index) {\r\n    return (\r\n      <div className=\"comment\" key={index}>\r\n        <p>\r\n          <strong>{comment.user}</strong>\r\n          {comment.text}\r\n          <button className=\"remove-comment\"\r\n            onClick={this.deleteComment.bind(this, index)}>\r\n            &times;\r\n           </button>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { postId } = this.props.match.params;\r\n    const { author, comment, commentForm } = this.refs;\r\n    this.props.dispatch(addComments(postId, author.value, comment.value));\r\n    commentForm.reset();\r\n  }\r\n\r\n  deleteComment(index) {\r\n    const { postId } = this.props.match.params;\r\n    this.props.dispatch(removeComments(postId, index));\r\n  }\r\n\r\n  render() {\r\n\r\n    const { postComments } = this.props;\r\n\r\n    return (\r\n      <div className=\"comments\">\r\n        {postComments.map(this.renderComment)}\r\n        <form ref=\"commentForm\" className=\"comment-form\" onSubmit={this.handleSubmit}>\r\n          <input type=\"text\" ref=\"author\" placeholder=\"author\" />\r\n          <input type=\"text\" ref=\"comment\" placeholder=\"comment\" />\r\n          <input type=\"submit\" hidden />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Comments;"],"sourceRoot":""}